---
layout: post
title: איך וים יכול לעזור לכם לכתוב קוד

---
## מה זה Vim

Vim הוא עורך טקסט שנמצא במערכות מבוססות unix וקיים גם לווינדוס ,הוא גרסה משודרגת של עורך טקסט בשם vi משנות ה 70 ( vim קיצור של vi - improved ) ל Vim אין תמיכה בעכבר וכל הכתיבה ועריכת הטקסט נעשת רק עם המקלדת.

אולי בעבר כבר נתקלתם ב Vim, אם ניסיתם לערוך דרך הטרמינל בלינוקס/מק קובץ טקסט יש סיכוי טוב שניסתם לעשות את זה דרך Vim או אחת מגרסאתיו, ואם עשיתם את זה אז יש סיכוי עוד יותר טוב שניסתם לצאת ממנו לאחר שסיימתם לערוך את הטקסט ללא הצלחה.

בשביל לצאת מ Vim צריך להקיש את הפקודה

<p dir="ltr" lang="en">

: wq

</p>

שמשמעותה לשמור ולצאת.

![](/uploads/vim-wq.jpg)

## למה להשתמש ב Vim

במבט ראשון Vim לא נראה הכי מושך, וגם לא חדשני, אבל הסיבות להשתמש בו הן בעיקר פונקציונאליות ועלייה ברמת הפרודקטיביות ואפילו יותר מזה ועל כך אסביר בהמשך.

אקדים עכשיו את המאוחר ואודיע לכל מי שחושש מכך שיאלץ להיפטר מה IDE האהוב עליו ( IntelliJ Pycharm , מוצרי Jetbrains השונים, Visual studio , Visual Code, ואפילו גרסת הדפדפן של Visual Code בגיטהאב רחמנא ליצלן) שאין צורך לוותר על ה IDE יש פלאגינים שמדמים את הפונקציונלאיות של Vim לרוב ה IDES הפופולריים.

## אז איך משתמשים ב Vim?

ב Vim כמו שהזכרתי מקודם משתמשים רק במקלדת, זאת אומרת שלא צריך את העכבר בכלל.

איך זה נעשה בפועל?

ל Vim יש 6 מצבים שונים בהם אותו מקש יכול לבצע פעולות שונות וכל מצב מיועד לצורך אחר.

המצבים הם

**Normal mode** - מצב רגיל, במצב זה בדרך כלל מנווטים עם הסמן בקובץ ונכנסים לשאר המצבים

**Insert mode** - מצב הכנסה, נכנסים למצב זה ממצב רגיל על ידי הקלדה של התו i , במצב זה אפשר להכניס טקסט

**Visual mode** - מצב סימון, בשביל לסמן טקסט שאותו נרצה למחוק,להעתיק או לשנות נכנסים למצב ממצב רגיל על ידי הקלדה של התו v

**Command mode** - מצב פקודה, נכנסים למצב ממצב רגיל על ידי הקלדה של התו : - נקודותיים, במצב זה אפשר להקליד פקודות כגון sort שימיין שורות , reg שיצג את ה registers של Vim ( כמו clipboard שיציג את היסטוריית העתקות שבצעתם) ועוד המון פקודות מועילות.

**Replace mode** - מצב החלפה, נכנסים למצב ממצב רגיל על ידי הקלדה של התו r , במצב זה אפשר להחליף אות, מילה וכדומה.

**Ex mode** - דומה למצב פקודה.

מכל מצב ניתן לחזור למצב רגיל על ידי לחיצה על escape

## פונקציונליות

אז מה ניתן לעשות עם Vim ואיך זה עוזר לי?

אתאר מגוון תרחישים שקשורים לעריכת טקסט עם דגש על כתיבת קוד. נניח שכתבנו פונקציה ונרצה להעתיק את גוף הפונקציה למקום אחר יש כמה אפשרויות לעשות את זה

1 - האפשרות הראשונה והברורה ביותר היא לסמן עם העכבר את גוף הפונקציה, ללחוץ קליל ימני, העתק.

2 - האפשרות השנייה והכנראה יותר יעילה היא לרדת עם המקשים עד ל "}" הראשון ללחוץ על שיפט לרדת שתי שורות וללחוץ על Control + c בשביל להעתיק את הטקסט שמסומן.

3 - האפשרות השלישית והיעילה ביותר היא להשתמש ב Vim , ללחוץ vi{y בהנחה שהסמן שלכם נמצא איפשהו בפונקציה הזאת, וזהו גוף הפונקציה הועתק.

זה תקף כמובן לא רק לסוגריים מסולסלים, אלא לכל תו שעוטף טקסט עם שני צדדים כמו סוגריים רגילות, מרכאות וכדומה.

בדוגמה הבאה אני משתשמש בפקודה הנ"ל יורד שורה ומדביק את הטקסט שהועתק על ידי לחיצה על p (paste)

<div dir="ltr" style="display: block;  
margin-left: auto;  
margin-right: auto;">

<img src="/uploads/vimshowcase1.gif">

</div>

דוגמה נוספת, נניח ונרצה למחוק ארגומנט שתחום בגרשיים, נניח גם שהסמן שלנו נמצא בתחתית המסך.

אז כאמור כמו בדוגמה הקודמת יש 3 אפשרויות לבצע זאת

לסמן עם העכבר את הטקסט שאותו רוצים למחוק ולהתחיל להקליד את הטקסט החדש, החיסרון בדרך הזאת היא שצריך להשתמש בעכבר וזה מעייף לעבור מן המלקדת לעכבר, בנוסף הסימון דורש מכניקה עדינה בשביל לא לגלוש לשורה מעל או לסמן תווים שאותם אנחנו לא רוצים.

אפשרות שנייה היא לעלות עם הסמן אל המקום שבו נמצא הארגומנט, להתקדם בשורה עד לגרשיים שעוטפים אותו, ללחוץ שיפט ולהתחיל לסמן את הטקסט עד למקום לגרש הסוגר, ללחוץ backspace ולהתחיל להקליד.

החסירון בדרך הזאת היא איטיות, אם סמן העכבר נמצא במקום מרוחק צריך לחכות הרבה זמן עד שמגיעים למקום הרצוי.

בשימוש ב Vim כל מה שנצטרך לעשות הוא להקליד את מספר השורות, להקליד לאן לקפוץ למעלה( k ) או למטה( j ) , להקליד ci' , שמשמעותו היא Change inside והגרש שמורה איפה לשנות את הטקסט.

מצד ימין תוכלו לראות את את הפעולה נעשת עם Vim ובצד שמאל את אותה פעולה נעשת בלי Vim.
הפעולה שנעשת עם Vim מתבצעת במהירות פי 2 מאשר הפעולה בלי!
<div class="container" style="display:inline-block;">

<img src="/uploads/2.gif" width="330"/>

<img src="/uploads/1.gif" width="330"/>

</div>

דוגמה נוספת היא למשל היכולת ליצור רשימה של מספרים לפי הסדר בלי הצורך להקליד אותם, כל מה שעשיתי בדוגמה הבאה הוא להעתיק את המספר 0 , 10 פעמים לסמן במצב סימון את כל ללחוץ g ואז control + a שמשמעותו היא להגדיל מספר

![](/uploads/vim-showcase-gen-numbers.gif)

## התועלת האמיתית של Vim

בתקווה שעד כה הצלחתי לעניין את סקרנותכם אני רוצה לציין כמה דברים מעבר לתועלת הנראת לעין על שימוש ב Vim , התועלת הברורה היא בקיצור הזמן הדרוש לערוך טקסט, אבל כמה זמן אנחנו באמת חוסכים? 3 , 5 , 10, 15 שניות? על פניו זה נראה זניח , אבל זה לא המצב ואסביר למה.

ראשית הזמן הוא מצטבר, אם בהערכה שמרנית ולרעת Vim כל דקה נחסוך כ 10 שניות אז בהמלך חצי שעה נחסוך כ 5 דקות, שזה בערך 17% לא מעט זמן שנחסך!

שנית התועלת האמיתית, טמונה לא בזמן שעל פניו נחסך, אלא גם בדברים שקשה למדוד, כמו למשל קטיעת חוט מחשבה, כמה פעמים קרה לכם שכתבתם קוד, ואיבדתם ריכוז בגלל דברים כמו צורך בעריכה, העתקה , ושינוי של הקוד? אני יכול להעיד אישית עליי שכל פעם שהייתי צריך לעשות דברים כאלה שלקחו לי 20 שניות כמו להעתיק פונקציה ולעלות במעלה המסמך בשביל להדביק אותה לקחו לי עוד כמה שניות להתפקס ולהיזכר מה בדיוק רציתי, וככל שהפעולה היתה יותר מורכבת ונעשתה ביותר זמן ככה עוד יותר נקטע לי ה flow.

דבר נוסף הוא שאנחנו לא שמים לב אבל כל מעבר כזה של היד לכיוון העכבר ומחשבה על הפעולה שאנחנו רוצים לבצע כמו העתקה של שורות לוקחת מאיתנו אנרגיה, במיוחד אם העתקנו על ידי סימון ובטעות סימנו תו נוסף ונאלצנו לתקן, קטיעה כזאת של הרצף קצת מוציאה את החשק לכתוב ומעייפת.

ומן הצד השני כשהממשק אל מול המכונה הוא נוח וזורם וכמעט מרגיש טבעי , זה מדרבן אותנו להמשיך לעבוד, וגורם לנו לבזבז פחות אנרגיה שיכולה אחר כך להיות מושקעת בעוד שעות עבודה או במחשבה יותר חדה.

הפחתת הסיכון ל RSI, הפעולה החוזרת של הסטטת היד לעבר העכבר ובכלל שימוש אינטנסיבי בעכבר מעלים את הסיכוי לפתח כאבים שנובעים מפעולה חזרתית של המפרקים, בהקלדה נכונה (שאדבר עליה בהמשך) התזוזה של פרק כף היד מינימלית, וההקלדה נעשת על ידי האצבעות כאשר היד נשארת סטטית ובכך פוחת הסיכוי לפתח תסמונת וכאבים.